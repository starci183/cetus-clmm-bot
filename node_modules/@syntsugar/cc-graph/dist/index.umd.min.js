!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("tslib")):"function"==typeof define&&define.amd?define(["exports","tslib"],e):e(t.ssGraph={},t.tslib)}(this,function(t,s){"use strict";e.prototype.getKey=function(){return this.startVertex.getKey()+"_"+this.endVertex.getKey()},e.prototype.reverse=function(){var t=this.startVertex;return this.startVertex=this.endVertex,this.endVertex=t,this},e.prototype.clone=function(){return new e(this.startVertex,this.endVertex,this.weight)},e.prototype.toString=function(){return this.getKey()};var P=e;function e(t,e,r){void 0===r&&(r=0),this.startVertex=t,this.endVertex=e,this.weight=r}function i(t,e,r){if(void 0===r&&(r="cc-graph"),!t)throw new Error((r?"["+r+"]":"")+" Invariant failed: "+e)}n.prototype.addEdge=function(t){return this.edges.set(t.getKey(),t),this},n.prototype.deleteEdge=function(t){this.edges.delete(t.getKey())},n.prototype.getNeighbors=function(){var e=this;return this.getEdges().map(function(t){return t.startVertex===e?t.endVertex:t.startVertex})},n.prototype.getEdges=function(){return Array.from(this.edges.values())},n.prototype.getDegree=function(){return this.getEdges().length},n.prototype.hasEdge=function(e){return!!this.getEdges().find(function(t){return t===e})},n.prototype.hasNeighbor=function(e){return!!this.getEdges().find(function(t){return t.startVertex===e||t.endVertex===e})},n.prototype.findEdge=function(e){var t=this.getEdges().find(function(t){return t.startVertex===e||t.endVertex===e});return t||null},n.prototype.getKey=function(){return this.value},n.prototype.deleteAllEdges=function(){var e=this;return this.getEdges().forEach(function(t){return e.deleteEdge(t)}),this},n.prototype.toString=function(t){return t?t(this.value):""+this.value};var r,G=n;function n(t){var e,r,n;i((n=null!=(e=t),(r=void 0===r?!0:r)?n&&"undefined"!==e&&"null"!==e:n),"Graph vertex must have a value"),this.value=t,this.edges=new Map}(d=r=r||{})[d.EQUAL=0]="EQUAL",d[d.GREATER=1]="GREATER",d[d.LESS=-1]="LESS";o.defaultCompareFunction=function(t,e){return t===e?r.EQUAL:t<e?r.LESS:r.GREATER},o.prototype.equal=function(t,e){return this.compare(t,e)===r.EQUAL},o.prototype.lessThan=function(t,e){return this.compare(t,e)===r.LESS},o.prototype.greaterThan=function(t,e){return this.compare(t,e)===r.GREATER},o.prototype.lessThanOrEqual=function(t,e){return this.lessThan(t,e)||this.equal(t,e)},o.prototype.greaterThanOrEqual=function(t,e){return this.greaterThan(t,e)||this.equal(t,e)},o.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}};var B=o;function o(t){this.compare=t||o.defaultCompareFunction}var a=function(t){this.value=t,this.next=null},u=function(t){this.value=t,this.next=null,this.prev=null},h=function(t,e){return(h=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}))(t,e)};function l(t,e){function r(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function p(n,i){var o,a,u,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(r){return function(t){var e=[r,t];if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(u=2&e[0]?a.return:e[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,e[1])).done)return u;switch(a=0,(e=u?[2&e[0],u.value]:e)[0]){case 0:case 1:u=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,a=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(u=0<(u=s.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3]))s.label=e[1];else if(6===e[0]&&s.label<u[1])s.label=u[1],u=e;else{if(!(u&&s.label<u[2])){u[2]&&s.ops.pop(),s.trys.pop();continue}s.label=u[2],s.ops.push(e)}}e=i.call(n,s)}catch(t){e=[6,t],a=0}finally{o=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}(arguments[e]));return t}function f(t,e){if(!t)throw new Error("[linked-list] "+(e||"obfuse error occur"))}Object.defineProperty(y.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"loopLength",{get:function(){var t=!1,e=1;if(this._head){for(var r=this._head,n=this._head;n.next&&n.next.next;)if(n=n.next.next,(r=r.next)===n){t=!0;break}if(t){for(n=n.next;r!==n;)e++,n=n.next;return e}}return 0},enumerable:!0,configurable:!0}),y.prototype.getNode=function(t){for(var e=this._length,r=(f(0<e&&0<=t&&t<e,"[linked-list] index "+t+" out of scope of list, which length is "+e),this._head),n=0;n<t;)r=r.next,n++;return r},y.prototype.get=function(t){t=this.getNode(t);return t?t.value:null},y.prototype.find=function(t){var e=t.value,r=t.callback;if(this._head)for(var n=this._head;n;){if(r&&r(n.value))return n;if(void 0!==e&&this.compare.equal(n.value,e))return n;n=n.next}return null},y.prototype.indexOf=function(t){if(!this._head)return-1;for(var e=this._head,r=-1;e.next;){if(r++,this.compare.equal(e.value,t))return r;e=e.next}return e===this._tail&&this.compare.equal(e.value,t)&&(r+=1),r},y.prototype.first=function(t){f(0<=t,"[linked-list] param 'num' ("+t+") should not less than 0");for(var e=this.iterator(),r=[],n=Math.min(t,this.length),i=0;i<n;i++){var o=e.next();r.push(o.value)}return r},y.prototype.toArray=function(){return c(this)},y.prototype.isEmpty=function(){return null===this._head},y.prototype.iterator=function(){var e;return p(this,function(t){switch(t.label){case 0:e=this._head,t.label=1;case 1:return e?[4,e.value]:[3,3];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}})},y.prototype[Symbol.iterator]=function(){return this.iterator()};var d=y;function y(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._head=null,this._tail=null,this._length=0,this.compare=new B,0<t.length&&t.forEach(function(t){e.append(t)})}l(_,v=d),_.prototype.append=function(t){t=new a(t);return this._tail?(this._tail.next=t,this._tail=t):this._head=this._tail=t,this._length++,!0},_.prototype.prepend=function(t){t=new a(t);return this._head?(t.next=this._head,this._head=t):this._head=this._tail=t,this._length++,!0},_.prototype.remove=function(t){var e=this._head;if(e){if(this.compare.equal(e.value,t))return e.next?(this._head=e.next,e.next=null):this._head=this._tail=null,this._length--,t;for(var r=e;;){if(this.compare.equal(e.value,t))return e.next?r.next=e.next:(this._tail=r,this._tail.next=null),e.next=null,this._length--,t;if(!e.next)return;e=(r=e).next}}},_.prototype.removeHead=function(){var t=this._head;if(t)return this._head.next?(this._head=t.next,t.next=null):(this._head=null,this._tail=null),this._length--,t.value},_.prototype.removeTail=function(){var t=this._tail;if(t){if(this._head.next){for(var e=this._head;e.next!==t;)e=e.next;e.next=null,this._tail=e}else this._head=null,this._tail=null;return this._length--,t.value}},_.prototype.reverse=function(){if(this._head){var t,e=this._head,r=null;for(this._tail=this._head;null!==e;)t=e.next,e.next=r,r=e,e=t;this._head=r}},_.prototype.clone=function(){var t=this.toArray();return new(_.bind.apply(_,c([void 0],t)))};var v,g=_;function _(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return v.apply(this,c(t))||this}l(b,x=g),b.prototype.iterator=function(){var e;return p(this,function(t){switch(t.label){case 0:e=this._head,t.label=1;case 1:return e?[4,e.value]:[3,3];case 2:return t.sent(),(e=e.next)===this._head&&(e=null),[3,1];case 3:return[2]}})},b.prototype.circleIterator=function(){var e;return p(this,function(t){switch(t.label){case 0:e=this._head,t.label=1;case 1:return e?[4,e.value]:[3,3];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}})},b.prototype[Symbol.iterator]=function(){return this.iterator()},b.prototype.mapToNormalListFn=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.breakCircle();t=x.prototype[t].apply(this,e);return this.cyclization(),t},b.prototype.getNode=function(t){return this.mapToNormalListFn("getNode",t)},b.prototype.append=function(t){return this.mapToNormalListFn("append",t)},b.prototype.prepend=function(t){return this.mapToNormalListFn("prepend",t)},b.prototype.find=function(t){return this.mapToNormalListFn("find",t)},b.prototype.indexOf=function(t){return this.mapToNormalListFn("indexOf",t)},b.prototype.remove=function(t){return this.mapToNormalListFn("remove",t)},b.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},b.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},b.prototype.first=function(t){f(0<=t,"[linked-list] param 'num' ("+t+") should not less than 0");for(var e=this.circleIterator(),r=[],n=0;n<t;n++){var i=e.next();r.push(i.value)}return r},b.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},b.prototype.reverse=function(){return this.mapToNormalListFn("reverse")};var x,m=b;function b(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=x.apply(this,c(t))||this;return r.cyclization(),r}var E;l(w,E=m),w.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},w.prototype.cyclization=function(){this._tail&&null===this._tail.next&&(this._tail.next=this._head)},w.prototype.clone=function(){var t=this.toArray();return new(w.bind.apply(w,c([void 0],t)))};function w(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=E.apply(this,c(t))||this;return r.cyclization(),r}l(T,V=d),T.prototype.append=function(t){t=new u(t);return this._tail?((this._tail.next=t).prev=this._tail,this._tail=t):this._head=this._tail=t,this._length++,!0},T.prototype.prepend=function(t){t=new u(t);return this._head?(t.next=this._head,this._head.prev=t,this._head=t):this._head=this._tail=t,this._length++,!0},T.prototype.remove=function(t){var e=this._head;if(e){if(this.compare.equal(e.value,t))return e.next?(this._head=e.next,this._head.prev=null,e.next=e.prev=null):this._head=this._tail=null,this._length--,t;for(;;){if(this.compare.equal(e.value,t))return e.next?(e.prev.next=e.next,e.next.prev=e.prev):(e.prev.next=null,this._tail=e.prev),e.next=e.prev=null,this._length--,e.value;if(!e.next)return;e=e.next}}},T.prototype.removeHead=function(){var t=this._head;if(t)return this._head.next?(t.next.prev=null,this._head=t.next,t.next=null):(this._head=null,this._tail=null),this._length--,t.value},T.prototype.removeTail=function(){var t=this._tail;if(t)return this._head.next?(t.prev.next=null,this._tail=t.prev,t.next=t.prev=null):(this._head=null,this._tail=null),this._length--,t.value},T.prototype.reverse=function(){if(this._head){var t,e=this._head,r=null;for(this._tail=this._head;null!==e;)t=e.next,e.next=r,e.prev=t,r=e,e=t;this._head=r}},T.prototype.clone=function(){var t=this.toArray();return new(T.bind.apply(T,c([void 0],t)))};var V,m=T;function T(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return V.apply(this,c(t))||this}l(N,K=m),N.prototype.iterator=function(){var e;return p(this,function(t){switch(t.label){case 0:e=this._head,t.label=1;case 1:return e?[4,e.value]:[3,3];case 2:return t.sent(),(e=e.next)===this._head&&(e=null),[3,1];case 3:return[2]}})},N.prototype.circleIterator=function(){var e;return p(this,function(t){switch(t.label){case 0:e=this._head,t.label=1;case 1:return e?[4,e.value]:[3,3];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}})},N.prototype[Symbol.iterator]=function(){return this.iterator()},N.prototype.mapToNormalListFn=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.breakCircle();t=K.prototype[t].apply(this,e);return this.cyclization(),t},N.prototype.getNode=function(t){return this.mapToNormalListFn("getNode",t)},N.prototype.append=function(t){return this.mapToNormalListFn("append",t)},N.prototype.prepend=function(t){return this.mapToNormalListFn("prepend",t)},N.prototype.find=function(t){return this.mapToNormalListFn("find",t)},N.prototype.indexOf=function(t){return this.mapToNormalListFn("indexOf",t)},N.prototype.remove=function(t){return this.mapToNormalListFn("remove",t)},N.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},N.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},N.prototype.first=function(t){f(0<=t,"[linked-list] param 'num' ("+t+") should not less than 0");for(var e=this.circleIterator(),r=[],n=0;n<t;n++){var i=e.next();r.push(i.value)}return r},N.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},N.prototype.reverse=function(){return this.mapToNormalListFn("reverse")};var K,d=N;function N(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=K.apply(this,c(t))||this;return r.cyclization(),r}var A;l(L,A=d),L.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},L.prototype.cyclization=function(){this._head&&this._tail&&null===this._tail.next&&(this._tail.next=this._head,this._head.prev=this._tail)},L.prototype.clone=function(){var t=this.toArray();return new(L.bind.apply(L,c([void 0],t)))};function L(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=A.apply(this,c(t))||this;return r.cyclization(),r}function z(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}(arguments[e]));return t}Object.defineProperty(q.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(q.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),q.prototype.isEmpty=function(){return this.queue.isEmpty()},q.prototype.enqueue=function(t){return this.queue.append(t)},q.prototype.dequeue=function(){var t=this.queue.removeHead();return void 0!==t?t:void 0},q.prototype.toArray=function(){return this.queue.toArray()};var H=q;function q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.queue=new(g.bind.apply(g,z([void 0],t)))}function R(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}(arguments[e]));return t}Object.defineProperty(F.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),F.prototype.isEmpty=function(){return this.stack.isEmpty()},F.prototype.push=function(t){return this.stack.append(t)},F.prototype.pop=function(){var t=this.stack.removeTail();return void 0!==t?t:void 0},F.prototype.popBottom=function(){var t=this.stack.removeHead();return void 0!==t?t:void 0},F.prototype.toArray=function(){return this.stack.toArray()};var k=F;function F(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.stack=new(g.bind.apply(g,R([void 0],t)))}function O(t,e,r,n){t&&(e.push(t),n.set(t.getKey(),!0),e=t.getNeighbors().filter(function(t){return!n.get(t.getKey())}),r.push(e))}function S(t,e,r){t=t.pop();t&&r.set(t.getKey(),!1),e.pop()}j.prototype.addVertex=function(t){return this.vertices[t.getKey()]=t,this},j.prototype.getVertexByKey=function(t){return this.vertices[t]},j.prototype.getNeighbors=function(t){return t.getNeighbors()},j.prototype.getAllVertices=function(){return Object.values(this.vertices)},j.prototype.getAllEdges=function(){return Object.values(this.edges)},j.prototype.addEdge=function(t,e){if(void 0===e&&(e=!1),this.edges[t.getKey()]){if(e)return this;i(!1,"Edge has already been added before")}var e=this.getVertexByKey(t.startVertex.getKey()),r=this.getVertexByKey(t.endVertex.getKey());return e||(this.addVertex(t.startVertex),e=this.getVertexByKey(t.startVertex.getKey())),r||(this.addVertex(t.endVertex),r=this.getVertexByKey(t.endVertex.getKey())),this.edges[t.getKey()]=t,this.isDirected?e.addEdge(t):(e.addEdge(t),e=t.clone(),r.addEdge(e.reverse())),this},j.prototype.deleteEdge=function(t,e){if(void 0===e&&(e=!1),!this.edges[t.getKey()]){if(e)return this;i(!1,"Edge not found in graph")}delete this.edges[t.getKey()];var e=this.getVertexByKey(t.startVertex.getKey()),r=this.getVertexByKey(t.endVertex.getKey());return e.deleteEdge(t),r.deleteEdge(t),this},j.prototype.findEdge=function(t,e){t=this.getVertexByKey(t.getKey());return t?t.findEdge(e):null},j.prototype.getWeight=function(){return this.getAllEdges().reduce(function(t,e){return t+e.weight},0)},j.prototype.reverse=function(){var e=this;return this.getAllEdges().forEach(function(t){e.deleteEdge(t),t.reverse(),e.addEdge(t)}),this},j.prototype.getVerticesIndices=function(){var r={};return this.getAllVertices().forEach(function(t,e){r[t.getKey()]=e}),r},j.prototype.getAdjacencyMatrix=function(){var i=this,t=this.getAllVertices(),o=this.getVerticesIndices(),a=Array(t.length).fill(null).map(function(){return Array(t.length).fill(1/0)});return t.forEach(function(r,n){r.getNeighbors().forEach(function(t){var e=o[t.getKey()],t=i.findEdge(r,t);t&&(a[n][e]=t.weight)})}),a},j.prototype.toString=function(){return Object.keys(this.vertices).toString()},j.prototype.bfs=function(e){var r,n,i;return s.__generator(this,function(t){switch(t.label){case 0:r=new Map,(n=new H).enqueue(e),t.label=1;case 1:return n.isEmpty()?[3,4]:!(i=n.dequeue())||r.has(i.getKey())?[3,3]:[4,i];case 2:t.sent(),r.set(i.getKey(),i),i.getNeighbors().forEach(function(t){return n.enqueue(t)}),t.label=3;case 3:return[3,1];case 4:return[2]}})},j.prototype.dfs=function(e){var r,n,i;return s.__generator(this,function(t){switch(t.label){case 0:r=new Map,(n=new k).push(e),t.label=1;case 1:return n.isEmpty()?[3,4]:!(i=n.pop())||r.has(i.getKey())?[3,3]:[4,i];case 2:t.sent(),r.set(i.getKey(),i),i.getNeighbors().forEach(function(t){return n.push(t)}),t.label=3;case 3:return[3,1];case 4:return[2]}})},j.prototype.findAllPath=function(e,r){var n,i,o,a,u;return s.__generator(this,function(t){switch(t.label){case 0:return(a=[],e!==r)?[3,2]:(a.push(e),[4,a]);case 1:return t.sent(),[2];case 2:n=new Map,i=new k,o=new k,O(e,i,o,n),t.label=3;case 3:return i.isEmpty()?[3,6]:(a=o.pop())&&a.length?(u=a.shift(),o.push(a),u&&O(u,i,o,n),i.peek!==r?[3,5]:[4,i.toArray()]):(o.push(a),S(i,o,n),[3,3]);case 4:t.sent(),S(i,o,n),t.label=5;case 5:return[3,3];case 6:return[2]}})};m=j;function j(t){void 0===t&&(t=!1),this.vertices={},this.edges={},this.isDirected=t}t.GraphEdge=P,t.GraphVertex=G,t.Graph=m,Object.defineProperty(t,"__esModule",{value:!0})});
